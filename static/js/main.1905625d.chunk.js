(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n.p+"static/media/search-icon.0f7ddc24.png"},24:function(e,t,n){e.exports=n.p+"static/media/close-icon.51d8afab.png"},26:function(e,t,n){e.exports=n(38)},35:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),u=n(2),s=(n(35),n(3)),l=n(22),i=n(1),d={SET_MONTH:"SET_MONTH",SET_SELECTED_DATE:"SET_SELECTED_DATE",WEEK_DEYS_TITLES:["\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430","\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"],MONTHS:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"]},h="SHOW_ADD_EVENT_MODAL",v="CLOSE_ADD_EVENT_MODAL",p="SET_EVENTS_LIST",m=Object(s.c)({calendarReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_SELECTED_DATE:return Object(i.a)({},e,{selectedDate:t.payload});case d.SET_MONTH:return Object(i.a)({},e,{monthData:t.payload});default:return e}},modalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case v:return Object(i.a)({},e,{isOpenAddEventModal:t.payload});default:return e}},eventsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(i.a)({},e,{eventsList:t.payload});default:return e}}}),E=function(e){return Object(s.e)(m,e,Object(s.d)(Object(s.a)(l.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))},f=n(25),D=n(5),b=n(6),_=n(8),g=n(7),O=n(9),w=function(e){return{type:d.SET_SELECTED_DATE,payload:e}},S=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[],n=[],a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,r=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),c=new Date(e.getYear(),e.getMonth(),0).getDate()-(a-1);n.length<=a-1;)n.push(new Date(e.getFullYear(),e.getMonth()-1,c)),c++;for(var o=1;o<=r;o++)n.push(new Date(e.getFullYear(),e.getMonth(),o));for(var u=1;n.length%7!==0;)n.push(new Date(e.getFullYear(),e.getMonth()+1,u)),u++;for(var s=0;s<n.length/7;s++)t.push(n.slice(7*s,7*s+7));return{type:d.SET_MONTH,payload:{items:t,title:d.MONTHS[e.getMonth()],date:e}}},M=function(){return{type:h,payload:!0}},y=function(){return{type:v,payload:!1}},j=n(23),N=n.n(j),T=n(36),C=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(_.a)(this,Object(g.a)(t).call(this))).handlerSearchInput=function(t){var n=t.target.value;e.setState({searchValue:n})},e.searchInCalendar=function(t){var n=e.state.searchValue;"Invalid date"!==new Date(n)&&/^\d{4}[.\/-]\d{2}[.\/-]\d{2}$/.test(n)&&(e.props.setMonth(new Date(n)),e.props.setSelectedDate(new Date(n).setHours(0,0,0,0))),Object.entries(t).map(function(t){var a=Object(f.a)(t,2),r=a[0],c=a[1];n&&(c.eventName.includes(n)||c.eventInvited.includes(n))&&(e.props.setMonth(new Date(Number(r))),e.props.setSelectedDate(new Date(Number(r)).setHours(0,0,0,0)))})},e.state={searchValue:""},e}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.showAddEventModal,a=t.setSelectedDate,c=t.eventsList,o=T(this.searchInCalendar,500);return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__buttons-menu"},r.a.createElement("button",{className:"header__button",onClick:function(){a(null),n()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement("button",{className:"header__button",onClick:function(){return a(null)}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")),r.a.createElement("div",{className:"header__search-menu"},r.a.createElement("img",{src:N.a,width:"35",height:"35",alt:"search icon"}),r.a.createElement("input",{type:"text",onChange:function(t){e.handlerSearchInput(t),o(c)},placeholder:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435, \u0434\u0430\u0442\u0430(\u0433\u043e\u0434-\u043c\u0435\u0441-\u0434\u0435\u043d\u044c) \u0438\u043b\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a"})))}}]),t}(a.Component),k=Object(u.b)(function(e){return{eventsList:e.eventsReducer.eventsList}},function(e){return{showAddEventModal:function(){return e(M())},setSelectedDate:function(t){return e(w(t))},setMonth:function(t){return e(S(t))}}})(C),L=n(10),I=n.n(L),A=n(15),H=function(e){return{type:p,payload:e}},x=function(){var e=Object(A.a)(I.a.mark(function e(t){var n,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("events.json");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,t(H(a));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=Object(u.b)(function(e){return{selectedDate:e.calendarReducer.selectedDate,monthData:e.calendarReducer.monthData}},function(e){return{setSelectedDate:function(t){return e(w(t))},showAddEventModal:function(){return e(M())}}})(function(e){var t=e.rowIndex,n=e.weekIndex,c=e.date,o=e.event,u=e.selectedDate,s=e.setSelectedDate,l=e.showAddEventModal;return r.a.createElement("td",{className:c.setHours(0,0,0,0)===u?"calendar__day selected":"calendar__day",onClick:function(){return s(c.setHours(0,0,0,0))},onDoubleClick:function(){return l()},style:(new Date).setHours(0,0,0,0)===c.setHours(0,0,0,0)?{backgroundColor:"#F4F4F4"}:o?{backgroundColor:"rgba(0, 153, 255, 0.5)"}:{}},0===t&&""===c?d.WEEK_DEYS_TITLES[n]:0===t?r.a.createElement(a.Fragment,null,d.WEEK_DEYS_TITLES[n],", ",c.getDate()):c.getDate(),o?r.a.createElement("p",null,o.eventName):"",r.a.createElement("br",null))}),F=n(11),Y=n(24),V=n.n(Y),W=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(_.a)(this,Object(g.a)(t).call(this))).state={eventName:"",eventDate:"",eventInvited:"",eventDescription:""},e}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.eventsList[this.props.selectedDate]&&this.setState(Object(i.a)({},this.props.eventsList[this.props.selectedDate]))}},{key:"handlerInputChage",value:function(e){var t=e.target;this.setState(Object(F.a)({},t.name,t.value))}},{key:"render",value:function(){var e=this,t=this.state,n=t.eventName,a=t.eventDate,c=t.eventInvited,o=t.eventDescription,u=this.props,s=u.closeAddEventModal,l=u.addEvent,d=u.setMonth,h=u.setSelectedDate,v=u.removeEvent,p=u.eventsList,m=a?new Date(a).setHours(0,0,0,0):this.props.selectedDate,E=Object(F.a)({},m,Object(i.a)({},this.state));return r.a.createElement("div",{className:"modal"},r.a.createElement("img",{className:"modal__close-icon",src:V.a,onClick:function(){return s()},alt:"close icon"}),r.a.createElement("form",{className:"modal__form"},r.a.createElement("input",{type:"text",onChange:function(t){return e.handlerInputChage(t)},value:n,name:"eventName",placeholder:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435",required:!0}),r.a.createElement("input",{type:"date",onChange:function(t){return e.handlerInputChage(t)},value:a,name:"eventDate",placeholder:"\u0414\u0435\u043d\u044c, \u043c\u0435\u0441\u044f\u0446, \u0433\u043e\u0434"}),r.a.createElement("input",{type:"text",onChange:function(t){return e.handlerInputChage(t)},value:c,name:"eventInvited",placeholder:"\u0418\u043c\u0435\u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"}),r.a.createElement("textarea",{onChange:function(t){return e.handlerInputChage(t)},value:o,name:"eventDescription",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),r.a.createElement("div",{className:"modal__buttons"},r.a.createElement("button",{onClick:function(){var e=Object(A.a)(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(new Date(m)),h(m),l(E,p),s(),t.preventDefault();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},"\u0413\u043e\u0442\u043e\u0432\u043e"),r.a.createElement("button",{onClick:function(){v(m,p),s()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),t}(a.Component),X=Object(u.b)(function(e){return{eventsList:e.eventsReducer.eventsList,selectedDate:e.calendarReducer.selectedDate}},function(e){return{closeAddEventModal:function(){return e(y())},addEvent:function(t,n){return function(e,t,n){var a=Object(i.a)({},n,t);e(H(a))}(e,t,n)},removeEvent:function(t,n){return function(e,t,n){delete n[t],e(H(n))}(e,t,n)},setMonth:function(t){return e(S(t))},setSelectedDate:function(t){return e(w(t))}}})(W),K=function(e){function t(){return Object(D.a)(this,t),Object(_.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.getEventsList(),this.props.setMonth()}},{key:"render",value:function(){var e=this.props,t=e.monthData,n=e.setMonth,a=e.setSelectedDate,c=e.isOpenAddEventModal,o=e.eventsList,u=t?t.date:null;return r.a.createElement("div",{className:"calendar"},c&&r.a.createElement(X,null),r.a.createElement("div",{className:"calendar__month-changer"},r.a.createElement("button",{className:"calendar__button",onClick:function(){return n(new Date(u.setMonth(t.date.getMonth()-1)))}},"<"),t&&"".concat(t.title," ").concat(t.date.getFullYear()),r.a.createElement("button",{className:"calendar__button",onClick:function(){return n(new Date(u.setMonth(t.date.getMonth()+1)))}},">"),r.a.createElement("button",{className:"calendar__button",onClick:function(){n(new Date),a((new Date).setHours(0,0,0,0))}},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f")),r.a.createElement("table",{className:"calendar__table"},r.a.createElement("tbody",null,t&&t.items.map(function(e,t){return r.a.createElement("tr",{key:t},e.map(function(e,n){return r.a.createElement(R,{key:n,date:e,rowIndex:t,weekIndex:n,event:o&&o[e.setHours(0,0,0,0)]})}))}))))}}]),t}(a.Component),B=Object(u.b)(function(e){return{monthData:e.calendarReducer.monthData,isOpenAddEventModal:e.modalReducer.isOpenAddEventModal,eventsList:e.eventsReducer.eventsList}},function(e){return{setMonth:function(t){return e(S(t))},closeAddEventModal:function(){return e(y())},getEventsList:function(){return x(e)},setSelectedDate:function(t){return e(w(t))}}})(K),J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null),r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=E({});o.a.render(r.a.createElement(u.a,{store:U},r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.1905625d.chunk.js.map